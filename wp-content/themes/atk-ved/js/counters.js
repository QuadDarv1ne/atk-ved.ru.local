/**
 * Counters - Hero –∏ Statistics (Vanilla JS)
 * @package ATK_VED
 */
(function(){'use strict';const $=(s,c=document)=>c.querySelector(s);const $$=(s,c=document)=>c.querySelectorAll(s);const stats=[{value:500,suffix:'+',label:'–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤'},{value:5,suffix:'+',label:'–õ–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ'},{value:1000,suffix:'+',label:'–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ'},{value:15,suffix:'',label:'–ì–æ—Ä–æ–¥–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏'}];let countersAnimated=false;function initHeroCounters(){const hero=$('.hero-section');if(!hero)return;const statsHTML='<div class="hero-stats">'+stats.map((s,i)=>'<div class="stat-item" data-index="'+i+'"><div class="stat-number" data-target="'+s.value+'"><span class="stat-value">0</span><span class="stat-suffix">'+s.suffix+'</span></div><div class="stat-label">'+s.label+'</div></div>').join('')+'</div>';hero.querySelector('.hero-content').insertAdjacentHTML('afterend',statsHTML);initScrollAnimation()}function initScrollAnimation(){const checkScroll=()=>{if(countersAnimated)return;const stats=$('.hero-stats');if(!stats)return;const rect=stats.getBoundingClientRect();const windowHeight=window.innerHeight;if(rect.top<windowHeight-100){countersAnimated=true;animateCounters()}};window.addEventListener('scroll',checkScroll);checkScroll()}function animateCounters(){$$('.stat-item').forEach((item,idx)=>{const num=item.querySelector('.stat-number');const val=item.querySelector('.stat-value');const target=+num.dataset.target;setTimeout(()=>{item.classList.add('animated');num.classList.add('counting');animateCounter(val,target);setTimeout(()=>num.classList.remove('counting'),2000)},idx*150)})}function animateCounter(el,target){const duration=2000,steps=60,stepDuration=duration/steps,increment=target/steps;let current=0;const timer=setInterval(()=>{current+=increment;if(current>=target){current=target;clearInterval(timer)}el.textContent=Math.floor(current).toString().replace(/\B(?=(\d{3})+(?!\d))/g,' ')},stepDuration)}function createStatisticsSection(){const html='<section class="statistics-section"><div class="container"><div class="statistics-grid">'+stats.map((s,i)=>'<div class="stat-card"><div class="stat-icon">'+['üë•','üìÖ','üì¶','üåç'][i]+'</div><div class="stat-number" data-target="'+s.value+'">0</div><div class="stat-suffix">'+s.suffix+'</div><div class="stat-label">'+s.label+'</div></div>').join('')+'</div></div></section>';const adv=$('.advantages-section');if(adv)adv.insertAdjacentHTML('afterend',html)}function initStatisticsAnimation(){let animated=false;const checkScroll=()=>{if(animated)return;const section=$('.statistics-section');if(!section)return;const rect=section.getBoundingClientRect();const windowHeight=window.innerHeight;if(rect.top<windowHeight-100){animated=true;$$('.stat-card').forEach((card,idx)=>{const num=card.querySelector('.stat-number');const target=+num.dataset.target;setTimeout(()=>{card.classList.add('animate');animateCounter(num,target)},idx*200)})}};window.addEventListener('scroll',checkScroll);checkScroll()}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',()=>{initHeroCounters();createStatisticsSection();initStatisticsAnimation()})}else{initHeroCounters();createStatisticsSection();initStatisticsAnimation()}})();
