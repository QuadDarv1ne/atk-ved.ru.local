/**
 * UI Components - Vanilla JS
 * @package ATK_VED
 */
(function(){'use strict';const $=(s,c)=>(c||document).querySelector(s);const $$=(s,c)=>Array.from((c||document).querySelectorAll(s));function openModal(id){const modal=$('#'+id);if(!modal)return;modal.classList.add('is-open');modal.style.display='flex';document.body.classList.add('modal-open');setTimeout(()=>modal.querySelector('.modal-content')?.focus(),100)}function closeModal(id){const modal=id?$('#'+id):$('.modal.is-open');if(!modal)return;modal.classList.remove('is-open');setTimeout(()=>{modal.style.display='none';if(!$('.modal.is-open'))document.body.classList.remove('modal-open')},300)}window.atkOpenModal=openModal;window.atkCloseModal=closeModal;document.addEventListener('click',e=>{const opener=e.target.closest('[data-modal-open]');if(opener){e.preventDefault();openModal(opener.dataset.modalOpen);return}const closer=e.target.closest('[data-modal-close]');if(closer){closeModal(closer.dataset.modalClose);return}if(e.target.classList.contains('modal-backdrop')||e.target.classList.contains('modal')){closeModal(e.target.closest('.modal').id)}});document.addEventListener('keydown',e=>{if(e.key==='Escape'){const modal=$('.modal.is-open');if(modal)closeModal(modal.id)}});$$('.tab-button').forEach(btn=>{btn.addEventListener('click',()=>{const tabs=btn.closest('.tabs');const target=btn.dataset.tab;$$('.tab-button',tabs).forEach(b=>{b.classList.remove('is-active');b.setAttribute('aria-selected','false')});$$('.tab-panel',tabs).forEach(p=>p.classList.remove('is-active'));btn.classList.add('is-active');btn.setAttribute('aria-selected','true');$('#'+target)?.classList.add('is-active')})});$$('.accordion-header').forEach(header=>{header.addEventListener('click',()=>{const item=header.closest('.accordion-item');const accordion=item.closest('.accordion');const body=item.querySelector('.accordion-body');const isExclusive=accordion.classList.contains('accordion-exclusive');if(isExclusive){$$('.accordion-item',accordion).forEach(i=>{if(i!==item){i.classList.remove('is-active');const b=i.querySelector('.accordion-body');if(b)b.style.maxHeight='0'}})}item.classList.toggle('is-active');if(item.classList.contains('is-active')){body.style.maxHeight=body.scrollHeight+'px'}else{body.style.maxHeight='0'}})})})();
