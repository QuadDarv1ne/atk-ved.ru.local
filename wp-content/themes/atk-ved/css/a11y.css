/**
 * Accessibility - Оптимизированная версия
 * @package ATK_VED
 */

/* Skip Links */
.skip-link{position:absolute;top:-100px;left:20px;padding:15px 25px;background:#e31e24;color:#fff;font-weight:600;text-decoration:none;border-radius:0 0 8px 8px;transition:top .3s ease;z-index:9999}
.skip-link:focus{top:0;outline:3px solid #ff6b6b;outline-offset:2px}

/* Screen Reader Only */
.sr-only,.screen-reader-text{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.sr-only-focusable:focus,.screen-reader-text:focus{position:static!important;width:auto;height:auto;padding:inherit;margin:inherit;overflow:visible;clip:auto;white-space:normal}

/* Focus Styles */
a:focus,button:focus,input:focus,select:focus,textarea:focus,[tabindex]:focus{outline:3px solid #e31e24;outline-offset:2px}
button:focus,.cta-button:focus{outline:3px solid #e31e24;outline-offset:3px;box-shadow:0 0 0 5px rgba(227,30,36,.3)}
.service-card:focus-within,.step-card:focus-within{box-shadow:0 0 0 3px #e31e24}

/* Reduced Motion */
@media(prefers-reduced-motion:reduce){
*,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
}

/* High Contrast */
@media(prefers-contrast:high){
body{background:#fff;color:#000}
a{color:#0000ee;text-decoration:underline}
a:hover{color:#c00}
button,.cta-button{background:#000;color:#fff;border:3px solid #000}
input,select,textarea{background:#fff;color:#000;border:2px solid #000}
}

/* Form Accessibility */
label{display:block;margin-bottom:5px;font-weight:600;color:#2c2c2c}
label.required::after{content:' *';color:#e31e24}
.wpcf7-not-valid-tip{color:#e31e24;font-size:14px;margin-top:5px;padding:8px 12px;background:#fff5f5;border-left:3px solid #e31e24;border-radius:4px}
.wpcf7-form-control.wpcf7-not-valid{border-color:#e31e24;border-width:2px;background:#fff5f5}
.wpcf7-response-output.wpcf7-mail-sent-ok{background:#f0fff4;border-color:#22c55e;color:#166534;padding:15px 20px;border-radius:8px}

/* Focus Visible */
@supports selector(:focus-visible){
a:focus:not(:focus-visible),button:focus:not(:focus-visible),input:focus:not(:focus-visible){outline:none}
a:focus-visible,button:focus-visible,input:focus-visible{outline:3px solid #e31e24;outline-offset:2px}
}

/* Modal Accessibility */
[role="dialog"]{z-index:9999}
[role="dialog"] .modal-content{max-height:90vh;overflow-y:auto}
[role="dialog"] [data-close]{position:absolute;top:15px;right:15px;padding:10px;background:transparent;border:none;cursor:pointer;font-size:24px;color:#666;border-radius:4px;transition:all .2s ease}
[role="dialog"] [data-close]:hover,[role="dialog"] [data-close]:focus{background:#f0f0f0;color:#000}

/* WCAG Contrast */
body{color:#2c2c2c}
a{color:#e31e24}
a:hover{color:#b9151a}
.text-secondary{color:#666}
h1,h2,h3,h4,h5,h6{color:#1a1a1a}
.btn,.cta-button{color:#fff;background-color:#e31e24;border:2px solid #e31e24}
.btn:hover,.cta-button:hover{background-color:#b9151a;border-color:#b9151a}
input,textarea,select{border:2px solid #ccc;color:#2c2c2c;background-color:#fff}
input:focus,textarea:focus,select:focus{border-color:#e31e24;box-shadow:0 0 0 3px rgba(227,30,36,.2)}

/* Print */
@media print{
.skip-links,[role="dialog"],.modal,.no-print{display:none!important}
a{text-decoration:underline}
a[href]::after{content:" (" attr(href) ")";font-size:12px;color:#666}
body{font-size:12pt;line-height:1.5}
}
